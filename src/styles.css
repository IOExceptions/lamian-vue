:root {
  --brand: #dc2626;
  --brand-weak: #fee2e2;
  --bg: #f6f7fb;
  --card: #ffffff;
  --text: #1f2b37;
  --muted: #7a8796;
  --border: #e9edf3;
  --blue: #2f77ff;
  --green: #2bb673;
  --orange: #ff8b3d;
  --radius: 14px;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body, #app { height: 100%; margin:0; color: var(--text); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Noto Sans SC", "PingFang SC", "Microsoft Yahei", sans-serif; }
a { color: inherit; text-decoration: none; }

.app-shell { min-height: 100vh; background: var(--bg); padding-bottom: 70px; }

.topbar {
  position: sticky; top: 0; z-index: 20; height: 56px;
  background: var(--brand); color: #fff;
  display: flex; align-items: center; gap: 10px; padding: 0 14px;
}
.topbar .brand { font-weight: 700; font-size: 18px; }
.topbar .lang, .topbar .icons { margin-left: auto; opacity: .95; display:flex; align-items:center; gap: 10px; }

/* 通知角标 */
.notif { position: relative; display:inline-flex; }
.notif-badge {
  position:absolute; right:-4px; top:-6px; min-width: 16px; height:16px; padding:0 4px; border-radius:999px;
  background:#facc15; color:#7f1d1d; font-size: 11px; display:grid; place-items:center; font-weight: 700;
}

.dropdown { position:absolute; right:0; top:40px; background:#fff; border:1px solid var(--border); border-radius:10px; box-shadow:0 10px 20px rgba(0,0,0,.08); overflow:hidden; min-width: 120px; z-index: 50; color: var(--text); }
.dropdown-item { padding:10px 12px; font-size:14px; cursor:pointer; color: var(--text); background:#fff; }
.dropdown-item:hover { background:#f9fafb; }

.search-wrap { padding: 12px 14px; background: var(--bg); }
.search {
  background: #fff; border: 1px solid var(--border); height: 40px; border-radius: 20px;
  display: flex; align-items: center; gap: 8px; padding: 0 14px; color: var(--muted);
}

.scroll-x { padding: 10px 12px; display:flex; gap: 12px; overflow:auto; }
.chip {
  flex: 0 0 auto; background: #fff; border: 1px solid var(--border); border-radius: 999px; padding: 8px 12px; font-size: 13px; color: var(--text);
  display:flex; align-items:center; gap:6px;
}

.section { padding: 10px 12px 4px; }
.section h3 { margin: 8px 2px; font-size: 16px; display:flex; align-items:center; justify-content:space-between; }
.card-grid { padding: 8px 12px 0; display:grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
.card {
  background:#fff; border:1px solid var(--border); border-radius: 16px; overflow: hidden;
  display:flex; flex-direction: column; transition: box-shadow .2s, transform .2s;
}
.card .img { width: 100%; aspect-ratio: 1 / 1; height: auto; object-fit: cover; }
.card .body { padding: 10px; display:flex; flex-direction:column; gap:6px; }
.card .body b { font-size: 14px; }
.price { color: var(--brand); font-weight: 700; }
.btn-round {
  background: var(--brand); color:#fff; border:0; border-radius: 999px; padding: 8px 14px; font-weight:600;
}

.list { display: grid; gap: 12px; padding: 8px 12px 90px; }
.list-item {
  background:#fff; border:1px solid var(--border); border-radius: 16px; display:flex; gap: 12px; padding: 10px;
}
.list-item img { width: 88px; height: 88px; object-fit: cover; border-radius: 12px; }
.tags { display:flex; gap:6px; flex-wrap: wrap; }
.tag { font-size: 12px; border-radius: 999px; padding: 2px 8px; border:1px solid var(--border); }
.tag.red { background: var(--brand-weak); color: var(--brand); border-color: transparent; }
.tag.blue { background: #ecf2ff; color: var(--blue); border-color: transparent; }
.tag.orange { background: #fff2e6; color: var(--orange); border-color: transparent; }

.btn-spec { background: var(--brand); color:#fff; border:0; border-radius: 999px; padding: 10px 14px; font-weight: 600; margin-left:auto; }

.tabbar {
  position: fixed; bottom: 0; left: 0; right: 0; height: 62px; background:#fff; border-top:1px solid var(--border);
  display:flex; justify-content: space-around; align-items:center; z-index:100;
}
.tabbar a { display:grid; place-items:center; gap:4px; font-size:12px; color:#626d7a; }
.tabbar a.active { color: var(--brand); }

.float-cart { position: fixed; left: 12px; right: 12px; bottom: 74px; display:flex; align-items:center; gap: 10px; z-index: 60; }
.float-cart .cart-bubble {
  position: relative; width: 56px; height: 56px; border-radius: 999px; background: #111827; color:#fff; display:grid; place-items:center;
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
}
.float-cart .cart-bubble .icon { width: 24px; height: 24px; color:#fff; }
.float-cart .badge {
  position:absolute; top:-6px; right:-6px; min-width: 18px; height:18px; padding:0 6px; border-radius: 999px;
  display:grid; place-items:center; background:#22c55e; color:#fff; font-size: 12px; font-weight: 700;
}
.float-cart .price-pill {
  flex:1; height: 44px; border-radius: 999px; background:#111827; color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700;
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
}

/* Cart panel */
.cart-panel { position: fixed; left: 0; right: 0; bottom: 62px; z-index: 70; }
.cart-panel-card { margin: 0 12px 12px; background:#fff; border:1px solid var(--border); border-radius:16px; box-shadow: 0 20px 40px rgba(0,0,0,.12); overflow:hidden; }
.cart-panel-collapse { display:grid; place-items:center; height: 24px; }
.cart-panel-collapse .chev { display:inline-block; transform: rotate(180deg); color:#64748b; }
.cart-panel-header { display:flex; align-items:center; justify-content:space-between; padding: 12px 12px; border-bottom:1px solid var(--border); }
.cart-panel-list { max-height: 40vh; overflow:auto; display:grid; }
.cart-panel-list .row { display:flex; align-items:center; justify-content:space-between; padding: 10px 12px; border-bottom:1px solid var(--border); }
.cart-thumb { width: 44px; height: 44px; object-fit: cover; border-radius: 8px; }
.cart-panel-cta { padding: 12px; border-top:1px solid var(--border); background:#fff; }

.modal {
  position: fixed; inset: 0; background: rgba(0,0,0,.45); display:flex; align-items:flex-end; justify-content:center; z-index: 120;
}
.sheet {
  background:#fff; width: 100%; max-height: 82vh; border-top-left-radius: 16px; border-top-right-radius: 16px;
  display:flex; flex-direction: column; overflow: hidden; margin-bottom: 62px;
}
.sheet-content { flex: 1; overflow:auto; }
.sheet .top { display:flex; gap:12px; padding: 12px; border-bottom: 1px solid var(--border); }
.sheet .top img { width: 88px; height: 88px; object-fit: cover; border-radius: 12px; }
.sheet .title { font-weight: 700; }
.selector { padding: 12px; display:grid; gap:10px; }
.selector .opt { border:1px solid var(--border); padding: 12px; border-radius: 12px; display:flex; justify-content:space-between; align-items:center; }
.selector .opt.active { border-color: var(--brand); background: var(--brand-weak); }
.counter { display:flex; align-items:center; gap: 10px; padding: 0 12px; }
.counter button { width: 32px; height: 32px; border-radius: 50%; border:1px solid var(--border); background:#fff; }
.addons { padding: 0 12px 12px; display:grid; gap:8px; }
.addons .row { display:flex; align-items:center; justify-content:space-between; padding: 10px; border:1px solid var(--border); border-radius: 12px; }
.sheet .cta { position: sticky; bottom:0; background:#fff; padding: 12px; border-top:1px solid var(--border); }
.sheet .cta button { width: 100%; height: 48px; border-radius: 999px; border:0; background: var(--brand); color:#fff; font-weight: 700; }

.cart { padding: 12px; display:grid; gap:12px; }
.cart-card { background:#fff; border:1px solid var(--border); border-radius: 16px; padding: 12px; display:grid; gap:12px; }
.cart-row { display:flex; align-items:center; justify-content:space-between; }
.hr { height:1px; background: var(--border); }

.profile { padding: 12px; display:grid; gap:12px; }
.profile-card { background: linear-gradient(90deg, #ff7648, #e33933); color:#fff; border-radius: 16px; padding: 16px; }
.profile .panel { background:#fff; border:1px solid var(--border); border-radius: 16px; }
.profile .panel .row { padding: 14px; border-bottom:1px solid var(--border); display:flex; align-items:center; justify-content:space-between; }
.profile .panel .row:last-child { border-bottom:0; }

/* === UI Polish === */
.button {
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  height: 44px; padding: 0 16px; border-radius: 12px; border: 1px solid var(--border);
  background: #fff; color: var(--text); font-weight: 600;
  box-shadow: 0 2px 6px rgba(16,24,40,.04);
  transition: box-shadow .2s ease, transform .06s ease, background .2s ease, border-color .2s ease;
}
.button:hover { box-shadow: 0 6px 16px rgba(16,24,40,.10); }
.button:active { transform: translateY(1px); }
.button.primary { background: var(--brand); color:#fff; border-color: transparent; }
.button.primary:hover { box-shadow: 0 10px 20px rgba(227,57,51,.25); }
.button.success { background: var(--green); color:#fff; border-color: transparent; }

/* === Home: 套餐横滑 + 角标 === */
.hscroll { padding: 8px 12px; display:flex; gap:12px; overflow:auto; }
.combo-card { position: relative; flex: 0 0 auto; width: 192px; border-radius: var(--radius); border:1px solid #ffe3c2; background: linear-gradient(135deg,#fff7ed,#fffbeb); }
.combo-card .img { width: 100%; aspect-ratio: 1 / 1; height: auto; object-fit: cover; border-top-left-radius: 12px; border-top-right-radius: 12px; display:block; }
.badge { display:inline-flex; align-items:center; height:20px; padding:0 8px; font-size:12px; border-radius:999px; }
.badge.orange { background:#f97316; color:#fff; }

/* === 今日特惠横幅 === */
.deal { margin: 8px 12px; background: linear-gradient(90deg,#fef3c7,#fee2e2); border:1px solid var(--border); border-radius: 16px; padding: 10px; display:flex; align-items:center; gap:12px; }
.deal img { width: 64px; height: 64px; border-radius: 12px; object-fit: cover; }
.deal-body { flex:1; display:flex; flex-direction:column; gap:4px; }

/* === 圆形按钮尺寸 === */
.btn-circle { width: 40px; height: 40px; border-radius: 999px; border:0; background: var(--brand); color:#fff; display:grid; place-items:center; }
.btn-circle.sm { width: 28px; height: 28px; }
.btn-circle:hover { box-shadow: 0 10px 20px rgba(227,57,51,.25); }

/* === 菜单页分类Tabs吸顶 === */
.sticky-tabs { position: sticky; top: 56px; z-index: 10; background:#fff; border-bottom:1px solid var(--border); }
.tabs-scroll { overflow:auto; }
.tabs-scroll::-webkit-scrollbar { display:none; }
.tabs { display:flex; align-items:center; gap: 4px; padding: 0 8px; }
.tab { flex: 0 0 auto; text-align:center; padding: 12px 10px; font-weight:600; color:#64748b; border-bottom: 2px solid transparent; }
.tab .tab-icon { margin-right:6px; }
.tab.active { color: var(--brand); border-bottom-color: var(--brand); background:#fff; }

/* 文本截断（单/双行） */
.line-clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

/* 字体工具 */
.text-xs { font-size: 12px; }
.text-sm { font-size: 14px; }

/* 横向滚动隐藏滚动条 */
.hscroll { scrollbar-width: none; -ms-overflow-style: none; }
.hscroll::-webkit-scrollbar { display: none; }

.input, .textarea {
  width: 100%; background: #fff; border:1px solid var(--border);
  border-radius: 12px; padding: 10px 12px; outline: none; color: var(--text);
  transition: border-color .2s ease, box-shadow .2s ease;
}
.input:focus, .textarea:focus, .search:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 3px rgba(227,57,51,.15);
}

.badge-soft {
  background: #f2f4f7; color:#475467; border:1px solid #e5e7eb; border-radius: 999px; padding: 2px 8px; font-size: 12px;
}

.card:hover { box-shadow: 0 8px 18px rgba(0,0,0,.06); transform: translateY(-1px); }
.list-item { transition: box-shadow .2s ease, transform .2s ease; }
.list-item:hover { box-shadow: 0 10px 20px rgba(16,24,40,.06); transform: translateY(-1px); }

.btn-round { height: 36px; padding: 0 16px; border-radius: 999px; }
.btn-round:hover { box-shadow: 0 6px 16px rgba(227,57,51,.25); }
.btn-spec { height: 36px; box-shadow: 0 2px 6px rgba(227,57,51,.18); }
.btn-spec:hover { box-shadow: 0 8px 18px rgba(227,57,51,.28); }

.search { height: 44px; }
.search input { flex:1; border:0; outline:none; background:transparent; }

/* Accessible focus */
:focus-visible { outline: 2px solid var(--brand); outline-offset: 2px; }
