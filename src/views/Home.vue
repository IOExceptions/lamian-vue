<template>
  <header class="topbar">
    <div class="brand">æ‹‰ Â· ä¸€å…°æ‹‰é¢</div>
    <div class="lang">ä¸­æ–‡</div>
    <div class="icons">ğŸ”” ğŸ‘¤</div>
  </header>

  <div class="search-wrap">
    <div class="search">ğŸ”<input class="input" placeholder="æœç´¢æ‹‰é¢ã€å¥—é¤ã€é…èœ" /></div>
  </div>

  <div class="scroll-x">
    <div class="chip">ğŸ° ç”œå“ç«™</div>
    <div class="chip">ğŸ§‹ èŒ¶é¥®</div>
    <div class="chip">ğŸ« é¢†åŠµé©¬ä¸Šçœ</div>
    <div class="chip">ğŸ  äº²å­ä¹å›­</div>
    <div class="chip">ğŸš— è½¦é“å–é¤</div>
  </div>

  <div class="section">
    <h3>ğŸ± å¥—é¤ç‰¹æƒ  <small style="color:#7a8796;">æŸ¥çœ‹æ›´å¤š</small></h3>
  </div>
  <div class="card-grid">
    <div v-for="p in best" :key="p.id" class="card">
      <img class="img" :src="p.img" alt="" />
      <div class="body">
        <b>{{ p.title }}</b>
        <small style="color:#7a8796;">â­ {{ p.rate }} æœˆé”€{{ p.sales }}</small>
        <div style="display:flex; align-items:center; justify-content:space-between;">
          <div class="price">ï¿¥{{ p.specs[0].price.toFixed(1) }}</div>
          <button class="btn-round button primary" @click="$router.push('/menu')">åŠ å…¥</button>
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <h3>ğŸ”¥ çƒ­é”€æ¨è <small style="color:#7a8796;">æŸ¥çœ‹æ›´å¤š</small></h3>
  </div>
  <div class="card-grid" style="padding-bottom: 90px;">
    <div v-for="p in hot" :key="p.id" class="card">
      <img class="img" :src="p.img" alt="" />
      <div class="body">
        <b>{{ p.title }}</b>
        <small style="color:#7a8796;">â­ {{ p.rate }} æœˆé”€{{ p.sales }}</small>
        <div class="price">ï¿¥{{ p.specs[0].price.toFixed(1) }}</div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { storeToRefs } from 'pinia'
import { useProductStore } from '../stores/products'
const p = useProductStore()
const { products } = storeToRefs(p)
const best = products.value.slice(0,2)
const hot = products.value.slice(2,6)
</script>